services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    image: copilot-juridico:latest
    pull_policy: never
    working_dir: /app
    environment:
      OPENAI_API_KEY: ${OPENAI_API_KEY:-}
      OPENAI_MODEL: ${OPENAI_MODEL:-gpt-4o}
      MAX_TOKENS: ${MAX_TOKENS:-4096}
      TEMPERATURE: ${TEMPERATURE:-0.1}
      LLM_TIMEOUT: ${LLM_TIMEOUT:-120}
      LLM_MAX_RETRIES: ${LLM_MAX_RETRIES:-3}
      LOG_LEVEL: ${LOG_LEVEL:-INFO}
    volumes:
      - ./outputs:/app/outputs
      - ./:/workspace:ro
    command: ["--help"]
